<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Probar chat-test.bodasdehoy.com</title>
  <style>
    * { box-sizing: border-box; }
    body { font-family: system-ui, sans-serif; margin: 0; padding: 1rem; background: #1a1a2e; color: #eee; min-height: 100vh; }
    h1 { font-size: 1.25rem; margin-bottom: 0.5rem; }
    .url { font-size: 0.9rem; color: #88f; word-break: break-all; margin-bottom: 1rem; }
    .frame-wrap { border: 2px solid #333; border-radius: 8px; overflow: hidden; height: 70vh; min-height: 400px; background: #0f0f1a; }
    iframe { width: 100%; height: 100%; border: none; display: block; }
    .status { margin-top: 1rem; padding: 0.75rem; border-radius: 6px; font-size: 0.9rem; }
    .status.loading { background: #333; color: #ffa; }
    .status.ok { background: #163; color: #fff; }
    .status.error { background: #611; color: #faa; }
    a { color: #6af; }
  </style>
</head>
<body>
  <h1>Probar chat-test.bodasdehoy.com</h1>
  <p class="url">URL iframe: <strong id="url"></strong></p>
  <div class="frame-wrap">
    <iframe id="chat" title="Chat"></iframe>
  </div>
  <div id="status" class="status loading">Cargando…</div>

  <script>
    const base = 'https://chat-test.bodasdehoy.com';
    const chatUrl = base + '/bodasdehoy/chat?embed=1&embedded=1&minimal=1';
    document.getElementById('url').textContent = chatUrl;
    const iframe = document.getElementById('chat');
    const status = document.getElementById('status');

    iframe.src = chatUrl;

    iframe.onload = function () {
      status.textContent = 'Iframe cargó. Si ves el chat, chat-test responde.';
      status.className = 'status ok';
    };

    iframe.onerror = function () {
      status.textContent = 'Error al cargar el iframe. Posible 502 o DNS. Abre ' + base + ' en otra pestaña para ver el error.';
      status.className = 'status error';
    };

    setTimeout(function () {
      if (status.classList.contains('loading')) {
        status.textContent = 'Tarda mucho o no responde. Comprueba ' + base + ' en otra pestaña (502, DNS, etc.).';
        status.className = 'status error';
      }
    }, 15000);
  </script>
</body>
</html>
